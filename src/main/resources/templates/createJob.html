<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Job</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .header {
            display: flex;
            flex-direction: column;
            width: 100%;
            background-color: #EBE7E4;
            box-shadow: 0px 0px 10px 0px grey;
        }

        .first-div {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            margin-bottom: 0px;
        }

        .first-div .left-panel {
            margin-left: 70px;
            padding: 10px;
            display: flex;
        }

        .first-div .right-panel {
            margin-right: 70px;
            padding: 10px;
        }

        .first-div .right-panel a {
            margin-right: 10px;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content input[type="checkbox"],
        .dropdown-content label {
            display: inline-block;
            margin-right: 10px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #f9f9f9;
            min-width: 300px;
            min-height: 300px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            overflow-y: auto;
            overflow-x: auto;
        }

        .dropdown-content label {
            display: block;
            padding: 2px 5px;
            margin: 0px 5px;
        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content #search {
            width: 90%;
            height: 30px;
            font-size: 15px;
            padding: 0px 5px;
            margin: 10px;
        }

        .second-div {
            display: flex;
            justify-content: space-between;
            margin: 0px 75px 5px 70px;
            padding: 3px;
        }

        .second-div button {
            width: 222px;
            height: 35px;
            text-align: left;
            font-size: 13px;
            background-color: #F5F5F5;
            border: 1px solid grey;
            border-radius: 3px;
            cursor: pointer;
            padding-left: 12px;
            margin: 0px 5px 5px 5px;
            color: black;
            box-shadow: 0px 0px 5px grey;
        }

        .header .search input {
            padding: 10px;
            width: 215px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-top: 0px;
            margin-left: 5px;
            font-size: 12px;
            box-shadow: 0px 0px 5px grey;
        }

        main {
            max-width: 875px;
            margin: 50px auto;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0px 0px 10px grey;
            padding: 20px 40px;
        }

        h1 {
            color: #df5e0e;
            font-size: 35px;
            margin: 0 0 10px;
        }

        h2, h4 {
            color: #333;
            margin: 0 0 10px;
        }

        p {
            margin: 0 0 10px;
        }

        a {
            color: #007bff;
            text-decoration: none;
        }

        input[type="text"], input[type="file"], textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin: 5px 0;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        input[type="radio"], input[type="checkbox"] {
            margin-right: 5px;
        }

        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }

        footer {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ccc;
        }

        footer a {
            color: #007bff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        footer p {
            margin-bottom: 5px;
            margin-top: 5px;
        }

        .button-container {
            margin-right: 10px;
            display: flex;
        }

        .btn {
            padding: 5px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 0px;
        }

        .btn:hover {
            background-color: #ff0000;
            color: black;
        }

        .company {
            align-items: center;
            justify-content: center;
            margin-left: 5px;
        }

        .company #company-name {
            font-size: 22px;
            padding-bottom: 5px;
            font-weight: 600;
        }

        .oneline {
            display: flex;
        }

        .heading {
            display: flex;
            justify-content: space-between;
        }

        .heading .content-1 {
            margin-right: 400px;
        }

        .heading .content-2 {
            margin-right: 350px;
        }
    </style>
</head>
<body>
<header class="header">
    <div class="first-div">
        <div class="left-panel">
            <img alt="logo" height="25px"
                 src="https://static.hasjob.co/static/img/hasjob-logo.png" width="25px">
            <div class="company">
                <span id="company-name">HasJob</span>
                <span>The Hasgeek Job Board</span>
            </div>
        </div>
        <div class="right-panel">
            <div class="oneline">
                <div class="button-container" sec:authorize="isAuthenticated()">
                    <form method="get" th:action="@{/dashboard}">
                        <button class="btn">Back</button>
                    </form>
                </div>
                <div sec:authorize="!isAuthenticated()">
                    <form method="get" th:action="@{/user/loginForm}">
                        <button class="btn">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <form method="get" onchange="this.submit()" th:action="@{/dashboard}">
        <div class="second-div">
            <div class="dropdown">
                <button class="dropbtn" onclick="toggleDropdown('dropdown1',event)">Location</button>
                <div class="dropdown-content" id="dropdown1">
                    <input id="search" placeholder="Search..." type="text">
                    <label th:each="location : ${locations}">
                        <input name="location" th:checked="${checkedLocations != null and #strings.contains(checkedLocations,location)}" th:value="${location}"
                               type="checkbox">
                        <span th:text="${location}"></span>
                    </label>
                </div>
            </div>

            <div class="dropdown">
                <button class="dropbtn" onclick="toggleDropdown('dropdown2',event)">Job Type</button>
                <div class="dropdown-content" id="dropdown2">
                    <label th:each="jobType : ${jobTypes}">
                        <input name="filterJobType" th:checked="${checkedJobType != null and #strings.contains(checkedJobType,jobType)}" th:value="${jobType}"
                               type="checkbox">
                        <span th:text="${jobType}"></span>
                    </label>
                </div>
            </div>

            <div class="dropdown">
                <button class="dropbtn" onclick="toggleDropdown('dropdown3',event)">Job Category</button>
                <div class="dropdown-content" id="dropdown3">
                    <label th:each="jobCategory : ${jobCategories}">
                        <input name="filterJobCategory" th:checked="${checkedJobCategory != null and #strings.contains(checkedJobCategory,jobCategory)}" th:value="${jobCategory}"
                               type="checkbox">
                        <span th:text="${jobCategory}"></span>
                    </label>
                </div>
            </div>

            <div class="dropdown">
                <button class="dropbtn" onclick="toggleDropdown('dropdown4',event)">Pay</button>
                <div class="dropdown-content" id="dropdown4">
                    <label th:each="payingType : ${payOptions}">
                        <input name="filterPayingType" th:checked="${checkedPayingType != null and #strings.contains(checkedPayingType,payingType)}" th:value="${payingType}"
                               type="checkbox">
                        <span th:text="${payingType}"></span>
                    </label>
                </div>
            </div>

            <div class="search">
                <input id="searchInput" name="searchInput" placeholder="Search..." th:value="${search}"
                       type="text">
            </div>
        </div>
    </form>
</header>

<main style="border: 1px solid #808080">
    <form method="post" th:action="@{/reviewJob}">
        <div>
            <div>
                <h1>Post a Job</h1>
                <div>
                    <p>Hasjob is visited by thousands of developers every month.
                        Posts are valid for 30 days.</p>
                    <p><strong>Attention, recruiters:</strong> You may NOT use this site to post jobs on
                        behalf of your clients. We accept posts for your own firm only. Please read the
                        <a>terms of service</a> and ask your clients to list for themselves.</p>
                </div>
            </div>
        </div>

        <div>
            <div style="margin-top: 25px">
                <h2 style="color: #816894">First, tell us about the position</h2>
                <div class="heading" style="margin-top: 25px">
                    <div>
                        <h4>Headline</h4>
                    </div>
                    <div>
                        <input id="jobRole" name="jobRole" required type="text">
                        <p>A single-line summary. This goes to the front page and across the network.
                            <a>A/B test it?</a></p>
                    </div>
                </div>
                <div class="heading" style="margin-top: 25px">
                    <div>
                        <h4>Type</h4>
                    </div>
                    <div class="content-1" >
                        <input id="fullTimeEmployment" name="jobType" type="radio" value="Full-time employment">
                        <label for="fullTimeEmployment">Full-time employment</label>
                        <br>

                        <input id="shortTermContract" name="jobType" type="radio" value="Short term contract">
                        <label for="shortTermContract">Short term contract</label>
                        <br>

                        <input id="internship" name="jobType" type="radio" value="Internship">
                        <label for="internship">Internship</label>
                        <br>

                        <input id="freelanceOrConsulting" name="jobType" type="radio" value="Freelance or consulting">
                        <label for="freelanceOrConsulting">Freelance or consulting</label>
                        <br>

                        <input id="volunteerContributor" name="jobType" type="radio" value="Volunteer contributor">
                        <label for="volunteerContributor">Volunteer contributor</label>
                        <br>

                        <input id="partnerForAVenture" name="jobType" type="radio" value="Partner for a venture">
                        <label for="partnerForAVenture">Partner for a venture</label>
                        <br>
                    </div>
                </div>
                <div class="heading" style="margin-top: 25px">
                    <div>
                        <h4>Category</h4>
                    </div>
                    <div class="content-2">
                        <input id="programming" name="jobCategory" type="radio" value="Programming">
                        <label for="programming">Programming</label>
                        <br>

                        <input id="interactionDesign" name="jobCategory" type="radio" value="Interaction Design">
                        <label for="interactionDesign">Interaction Design</label>
                        <br>

                        <input id="graphicDesign" name="jobCategory" type="radio" value="Graphic Design">
                        <label for="graphicDesign">Graphic Design</label>
                        <br>

                        <input id="electronics" name="jobCategory" type="radio" value="Electronics">
                        <label for="electronics">Electronics</label>
                        <br>

                        <input id="informationSecurity" name="jobCategory" type="radio" value="Information Security">
                        <label for="informationSecurity">Information Security</label>
                        <br>

                        <input id="testing" name="jobCategory" type="radio" value="Testing/Quality Assurance">
                        <label for="testing">Testing/Quality Assurance</label>
                        <br>

                        <input id="systemAdministration" name="jobCategory" type="radio"
                               value="IT/System Administration">
                        <label for="systemAdministration">IT/System Administration</label>
                        <br>

                        <input id="business" name="jobCategory" type="radio" value="Business/Management">
                        <label for="business">Business/Management</label>
                        <br>

                        <input id="writer" name="jobCategory" type="radio" value="Writer/Editor">
                        <label for="writer">Writer/Editor</label>
                        <br>

                        <input id="customerSupport" name="jobCategory" type="radio" value="Customer Support">
                        <label for="customerSupport">Customer Support</label>
                        <br>

                        <input id="mobile" name="jobCategory" type="radio" value="Mobile (iPhone, Android, other)">
                        <label for="mobile">Mobile (iPhone, Android, other)</label>
                        <br>

                        <input id="officeAdministration" name="jobCategory" type="radio" value="Office Administration">
                        <label for="officeAdministration">Office Administration</label>
                        <br>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <div>
                        <h4>Location</h4>
                    </div>
                    <div>
                        <div>
                            <input id="location" name="location" required type="text">
                            <p>“Bangalore”, “Chennai”, “Pune”, etc or “Anywhere” (without quotes)</p>
                        </div>
                        <div>
                            <input id="relocation" name="relocation" type="checkbox">
                            <label for="relocation">Relocation assistance available</label>
                        </div>
                    </div>
                    <div style="margin-top: 25px">
                        <div>
                            <h4>Description</h4>
                            <textarea cols="100" id="description" name="jobDescription" rows="8"></textarea>
                            <p>Don’t just describe the job, tell a compelling story for why someone should
                                work for you</p>
                        </div>
                        <div>
                            <input id="jobPerks" name="jobPerks" type="checkbox">
                            <label for="jobPerks">Job perks are available</label>
                        </div>
                    </div>
                    <div style="margin-top: 25px">
                        <div>
                            <p><strong>what does this job pay ?</strong></p>
                            <div>
                                <input id="nothing" name="payingType" type="radio" value="INR">
                                <label for="nothing">INR</label>
                                <br>

                                <input id="oneTime" name="payingType" type="radio" value="USD">
                                <label for="oneTime">USD</label>
                                <br>

                                <input id="recurring" name="payingType" type="radio" value="EUR">
                                <label for="recurring">EUR</label>
                                <br>
                            </div>
                        </div>
                        <br>
                        <div>
                            <input id="equity" name="equity" type="checkbox" value="Equity compensation is available">
                            <label for="equity">Equity compensation is available</label>
                        </div>
                        <div style="margin-top: 8px">
                            <p>Candidates can’t see what this job pays, but can search for jobs matching
                                their expected pay scale</p>
                        </div>
                    </div>
                    <div style="margin-top: 25px">
                        <span><strong>What should a candidate submit when applying for this job?</strong></span>
                        <textarea cols="100" id="url" name="url" rows="2"></textarea>
                    </div>
                    <div style="line-height: 20px; font-size: 14px; ">
                        Example: “Include your LinkedIn and GitHub profiles.” We now require candidates to
                        apply through the job board only. Do not include any contact information here.
                        Candidates CANNOT attach resumes or other documents, so do not ask for that
                    </div>
                </div>
            </div>
        </div>
        <br>
        <br>
        <div>
            <div>
                <h2 style="color: #816894">Next, tell us about your organization</h2>
                <div style="margin-top: 25px">
                    <div>
                        <h4>Employer name</h4>
                    </div>
                    <div>
                        <input id="organizationName" name="organizationName" type="text">
                        <p>The name of the organization where the position is. If your stealth startup doesn't
                            have a name yet, use your own. We do not accept posts from third parties such as
                            recruitment consultants. Such posts may be removed without notice</p>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <div>
                        <h4>URL</h4>
                    </div>
                    <div>
                        <input id="organizationUrl" name="organizationUrl" required type="text">
                        <p>Your organization’s website</p>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <div>
                        <h4>Email</h4>
                    </div>
                    <div>
                        <input id="organizationEmail" name="organizationEmail" required type="text">
                        <p>This is where we’ll send your confirmation email and all job applications.
                            We recommend using a shared email address such as jobs@your-organization.com.
                            <strong>Listings are classified by your email domain</strong>, so use a work
                            email address. Your email address will not be revealed to applicants until
                            you respond</p>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <p>Only you, <strong><span th:text="${loggedInUser}"></span></strong>, will be able to respond to
                        candidates. To allow others to
                        respond, add them as a collaborator.</p>
                </div>
                <div>
                    <div><h4>Collaborators</h4></div>
                    <div>
                        <input id="collaborators" name="collaborators" type="text">
                        <p>If someone is helping you evaluate candidates, type their names here.
                            They must have a Hasgeek account. They will not receive email notifications
                            — use a shared email address above for that — but they will be able to
                            respond to candidates who apply</p>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <div style="font-weight:600;"><p>Is it okay for recruiters and other intermediaries to contact you about
                        this post?</p>
                    </div>
                    <div>
                        <div>
                            <input id="notOk" name="contactYou" type="radio" value="NOT OK">
                            <label for="notOk">No, it is NOT OK</label>
                            <br>

                            <input id="recruitersContact" name="contactYou" type="radio" value="OK">
                            <label for="recruitersContact">Yes, recruiters may contact me</label>
                            <br>
                        </div>
                    </div>
                    <div style="margin-top: 10px">
                        <p>We’ll display a notice to this effect on the post</p>
                    </div>
                </div>
                <div style="margin-top: 25px">
                    <p><strong>Warning:</strong> Many recruiters will ignore your preference and contact
                        you anyway. Do not reveal your phone number in the post. If you receive an email,
                        please report it to <a>support@hasgeek.com</a> and we will block their account</p>
                </div>
                <div>
                    <button type="submit">Review your post</button>
                </div>
            </div>
        </div>
    </form>
</main>
<footer>
    <div>
        <p>Hasjob is a service of <a>Hasgeek</a>. Subscribe to <a>the feed</a> or follow <a>@hasjob on
            Twitter</a> to find out when new jobs are posted.</p>
    </div>
</footer>

<script>

    function toggleDropdown(id, event) {
        event.preventDefault(); // Prevent form submission

        var dropdown = document.getElementById(id);
        var dropdowns = document.querySelectorAll('.dropdown-content');
        dropdowns.forEach(function(d) {
            if (d.id !== id) {
                d.style.display = 'none';
            }
        });
        dropdown.style.display = (dropdown.style.display === 'block') ? 'none' : 'block';
    }

    document.getElementById('search').addEventListener('input', function(event) {
        const searchValue = event.target.value.toLowerCase();
        const labels = document.querySelectorAll('#dropdown1 label span');

        labels.forEach(label => {
            const location = label.textContent.toLowerCase();
            const checkbox = label.parentElement.querySelector('input[type="checkbox"]');
            if (location.includes(searchValue)) {
                label.parentElement.style.display = 'block';
            } else {
                label.parentElement.style.display = 'none';
                checkbox.checked = false; // Uncheck hidden checkboxes
            }
        });

        // Prevent form submission
        event.preventDefault();
        return false;
    });

</script>
</body>
</html>